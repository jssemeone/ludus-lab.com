<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ö–≤–∞–Ω—Ç–æ–≤—ã–π –∫–ª—é—á: BB84 - Ludus Lab</title>
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∏–ª–∏ —Å–∞–π—Ç–∞ -->
  <link rel="stylesheet" href="../../style.css">
  
  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å—Ç–∏–ª–∏ –∏–≥—Ä—ã -->
  <link rel="stylesheet" href="style.css">
  
  <!-- –®—Ä–∏—Ñ—Ç—ã -->
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@400;500;700&family=Segoe+UI:wght@400;500&display=swap" rel="stylesheet">
  
  <style>
    /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∞–π—Ç–æ–º */
    .game-header {
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 1px solid rgba(0, 162, 255, 0.3);
    }
    
    .back-link {
      display: inline-block;
      margin-top: 20px;
      color: #00a2ff;
      text-decoration: none;
      font-weight: bold;
      transition: all 0.2s;
    }
    
    .back-link:hover {
      color: #00e0ff;
      text-shadow: 0 0 5px rgba(0, 162, 255, 0.5);
    }
    
    .back-link::before {
      content: "‚Üê ";
    }
  </style>
</head>
<body>
  <div class="container">
    <header class="game-header">
      <h1>–ö–í–ê–ù–¢–û–í–´–ô –ö–õ–Æ–ß: BB84</h1>
      <p class="subtitle">Ludus Lab ¬∑ –°–ª–æ–∂–Ω—ã–µ –≤–µ—â–∏ - –ø—Ä–æ—Å—Ç—ã–º–∏ –∏–≥—Ä–∞–º–∏</p>
    </header>

    <div class="instructions-container">
      <div class="instructions-header" id="instructionsHeader">
        <h2>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å <span class="toggle-icon">+</span></h2>
      </div>
      <div class="instructions" id="instructionsContent" style="display: none;">
        <p><strong>–ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</strong> –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏—é –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –∫—É–±–∏—Ç –ë–æ–±—É. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –∫—É–±–∏—Ç–æ–≤ –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–µ—è—Ç—å –∫–ª—é—á", —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á.</p>
        <p><strong>–¶–µ–ª—å:</strong> –°–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏–∑–≤–µ—Å—Ç–µ–Ω —Ç–æ–ª—å–∫–æ –≤–∞–º –∏ –ë–æ–±—É.</p>
      </div>
    </div>
    
    <div class="game-area">
      <div class="quantum-setup">
        <div class="character alice">
          <div class="character-icon">A</div>
          <div class="character-name">–í—ã (–ê–ª–∏—Å–∞)</div>
          <div class="character-status" id="aliceStatus">–ì–æ—Ç–æ–≤–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–±–∏—Ç</div>
        </div>
        
        <div class="quantum-channel" id="quantumChannel">
          <div class="photon" style="display: none;"></div>
          <div class="basis-indicator" id="aliceBasis" style="left: 10%;">–ê–ª–∏—Å–∞</div>
          <div class="basis-indicator" id="bobBasis" style="right: 10%;">–ë–æ–±</div>
          <div class="eve-icon" id="eveIcon">üëÅÔ∏è‚Äçüó®Ô∏è</div>
        </div>
        
        <div class="character bob">
          <div class="character-icon">B</div>
          <div class="character-name">–ë–æ–±</div>
          <div class="character-status" id="bobStatus">–û–∂–∏–¥–∞–µ—Ç –∫—É–±–∏—Ç</div>
        </div>
      </div>

      <div class="controls">
        <h2 class="section-title">1. –í—ã–±–µ—Ä–∏—Ç–µ –ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏—é –∫—É–±–∏—Ç–∞</h2>
        <div class="polarization-controls">
          <div class="polarization-option selected" data-basis="rectilinear" data-value="0">
            <div class="basis-symbol">|</div>
            <div class="basis-label">–ü—Ä—è–º–æ–π</div>
            <div class="polarization-value">0¬∞ = 0</div>
          </div>
          
          <div class="polarization-option" data-basis="rectilinear" data-value="1">
            <div class="basis-symbol">‚Äî</div>
            <div class="basis-label">–ü—Ä—è–º–æ–π</div>
            <div class="polarization-value">90¬∞ = 1</div>
          </div>
          
          <div class="polarization-option" data-basis="diagonal" data-value="0">
            <div class="basis-symbol">/</div>
            <div class="basis-label">–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π</div>
            <div class="polarization-value">45¬∞ = 0</div>
          </div>
          
          <div class="polarization-option" data-basis="diagonal" data-value="1">
            <div class="basis-symbol">\</div>
            <div class="basis-label">–î–∏–∞–≥–æ–Ω–∞–ª—å–Ω—ã–π</div>
            <div class="polarization-value">135¬∞ = 1</div>
          </div>
        </div>

        <div class="action-buttons">
          <button class="action-button" id="sendPhoton">
            –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∫—É–±–∏—Ç
          </button>
          
          <button class="action-button" id="autoSendBtn">
            –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
          </button>
        </div>
        
        <div class="alert-container">
          <div class="eve-alert" id="eveAlert">
            ‚ö†Ô∏è –ï–≤–∞ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏–ª–∞ –∫—É–±–∏—Ç! –≠—Ç–æ –º–æ–∂–µ—Ç –ø–æ–≤–ª–∏—è—Ç—å –Ω–∞ –∫–æ–Ω–µ—á–Ω—ã–π –∫–ª—é—á.
          </div>
          <div class="sift-notification" id="siftNotification" style="display: none;">
            ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ—Å–µ–∏–≤–∞–Ω–∏—è –∫–ª—é—á–∞!
          </div>
        </div>
      </div>

      <div class="key-section">
        <h2 class="section-title">2. –°—ã—Ä–æ–π –∫–ª—é—á</h2>
        <p>–°–æ–±—Ä–∞–Ω–æ <span id="rawKeyCount">0</span> –∫—É–±–∏—Ç–æ–≤</p>
        
        <div class="key-scroll-container">
          <div class="key-grid" id="rawKeyGrid">
            <!-- –°—ã—Ä–æ–π –∫–ª—é—á –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
          </div>
        </div>
        
        <div class="game-stats">
          <div class="stat-box">
            <div class="stat-label">–°–æ–≤–ø–∞–¥–µ–Ω–∏–π</div>
            <div class="stat-value" id="matchCount">0</div>
          </div>
          <div class="stat-box">
            <div class="stat-label">–ü–µ—Ä–µ—Ö–≤–∞—Ç–æ–≤</div>
            <div class="stat-value" id="interceptCount">0</div>
          </div>
        </div>
        
        <div class="bit-history" id="bitHistory" style="display: none;"></div>
      </div>

      <div class="key-section">
        <div id="siftKeyNotification" class="notification" style="display: none;">
          <p>‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—Ä–æ—Å–µ–∏–≤–∞–Ω–∏—è –∫–ª—é—á–∞!</p>
        </div>
        
        <button class="action-button" id="siftKey" style="display: none;">
          –ü—Ä–æ—Å–µ—è—Ç—å –∫–ª—é—á
        </button>
        
        <div id="finalKeySection" style="display: none;">
          <h2 class="section-title" style="margin-top: 25px;">3. –í–∞—à –∫–≤–∞–Ω—Ç–æ–≤—ã–π –∫–ª—é—á</h2>
          <p>–°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω –∏–∑ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π</p>
          
          <div class="key-grid final-key-grid" id="finalKeyGrid">
            <!-- –§–∏–Ω–∞–ª—å–Ω—ã–π –∫–ª—é—á –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
          </div>
        </div>
        
        <button class="action-button" id="newKeyBtn" style="display: none;">
          –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á
        </button>
      </div>
      
      <div class="explanation" id="explanation">
        <p>–í—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–∑ —á–µ—Ç—ã—Ä–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –ø–æ–ª—è—Ä–∏–∑–∞—Ü–∏–∏ –∫—É–±–∏—Ç–∞ –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –µ–≥–æ –ë–æ–±—É. –ë–æ–± –±—É–¥–µ—Ç —Å–ª—É—á–∞–π–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –≤—ã–±–∏—Ä–∞—Ç—å –±–∞–∑–∏—Å –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è.</p>
        <p>–ö–æ–≥–¥–∞ –≤—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∫—É–±–∏—Ç–æ–≤, –Ω–∞–∂–º–∏—Ç–µ "–ü—Ä–æ—Å–µ—è—Ç—å –∫–ª—é—á", —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –∏–∑ —Å–æ–≤–ø–∞–¥–∞—é—â–∏—Ö –∏–∑–º–µ—Ä–µ–Ω–∏–π.</p>
      </div>
      
      <a href="../.." class="back-link">–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–∏—é</a>
    </div>
    
    <footer>
      <p>Ludus Lab ¬∑ –°–ª–æ–∂–Ω—ã–µ –≤–µ—â–∏ - –ø—Ä–æ—Å—Ç—ã–º–∏ –∏–≥—Ä–∞–º–∏</p>
    </footer>
  </div>

  <script src="script.js"></script>
</body>
</html>
